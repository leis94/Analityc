(function(t){function e(e){for(var i,n,s=e[0],c=e[1],l=e[2],u=0,m=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},o={app:0},r=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("a9e3"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},r=[],n={name:"App",components:{},data:function(){return{}},created:function(){this.$store.dispatch("retrieveDataUser")}},s=n,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),m=a("f6c4"),p=Object(c["a"])(s,o,r,!1,null,null,null),v=p.exports;d()(p,{VApp:u["a"],VMain:m["a"]});var f=a("f309");i["a"].use(f["a"]);var h=new f["a"]({}),b=(a("c740"),a("45fc"),a("b0c0"),a("ac1f"),a("1276"),a("8c4f")),I=(a("c975"),a("a434"),a("2f62")),x=(a("99af"),a("bc3a")),_=a.n(x),g=window.location.host,O={baseURL:"".concat(window.location.protocol,"//").concat(g,"/")},y=_.a.create(O),V=y,C=V;i["a"].use(I["a"]);var k=new I["a"].Store({state:{drawer:!1,dialog:!1,username:null,email:null,rol:null,permisos:null,pais:null,formularios:localStorage.getItem("formularios")||null,paises:[{id:"COLOMBIA",text:"COLOMBIA"},{id:"HONDURAS",text:"HONDURAS"},{id:"COSTA RICA",text:"COSTA RICA"},{id:"GUATEMALA",text:"GUATEMALA"},{id:"NICARAGUA",text:"NICARAGUA"},{id:"EL SALVADOR",text:"EL SALVADOR"}],semanas:[{id:"S1",text:"S1"},{id:"S2",text:"S2"},{id:"S3",text:"S3"},{id:"S4",text:"S4"}],tipos:["INCIDENTE","REQUERIMIENTO"],tipo_formato:["PORCENTAJE","DECIMAL"],dataMultas:[],dataOcupacion:[],dataAns:[],dataVolumetrias:[],dataHrsLabor:[],dataProyectos:[],dataProyectosOcupacion:[],dataPeriodos:[],dataTrm:[],dataPjs:[],dataServicios:[],editItem:{},editItemIndex:-1,formTitle:""},getters:{getPaises:function(t){return t.paises},getFormularios:function(t){return t.formularios},getPaisPM:function(t){return t.pais},getDrawer:function(t){return t.drawer},getDataMultas:function(t){return t.dataMultas},getDataOcupacion:function(t){return t.dataOcupacion},getDataHrsLabor:function(t){return t.dataHrsLabor},getDataVolumetrias:function(t){return t.dataVolumetrias},getDataAns:function(t){return t.dataAns},showEdited:function(t){return t.dialog}},mutations:{retrieveDataUser:function(t,e){t.username=e.username,t.email=e.email,t.rol=e.rol,t.permisos=e.permisos,t.pais=e.pais,t.formularios=e.formularios},destroyDataUser:function(t){t.username=null,t.email=null,t.rol=null,t.permisos=null},setDrawer:function(t,e){t.drawer=e},dataMultasApi:function(t,e){t.dataMultas=e},dataOcupacionApi:function(t,e){t.dataOcupacion=e},dataHrsLaborApi:function(t,e){t.dataHrsLabor=e},dataAnsApi:function(t,e){t.dataAns=e},dataVolumetriasApi:function(t,e){t.dataVolumetrias=e},deleteItemMultas:function(t,e){var a=t.dataMultas.indexOf(e);t.dataMultas.splice(a,1)},deleteItemOcupacion:function(t,e){var a=t.dataOcupacion.indexOf(e);t.dataOcupacion.splice(a,1)},deleteItemHrsLabor:function(t,e){var a=t.dataHrsLabor.indexOf(e);t.dataHrsLabor.splice(a,1)},deleteItemVolumetrias:function(t,e){var a=t.dataVolumetrias.indexOf(e);t.dataVolumetrias.splice(a,1)},deleteItemAns:function(t,e){var a=t.dataAns.indexOf(e);t.dataAns.splice(a,1)},updateShowEdit:function(t){t.dialog=!t.dialog},dataProyectosApi:function(t,e){t.dataProyectos=e},dataProyectosOcupacionApi:function(t,e){t.dataProyectosOcupacion=e},dataPeridosApi:function(t,e){t.dataPeriodos=e},dataPjsApi:function(t,e){t.dataPjs=e},dataServiciosApi:function(t,e){t.dataServicios=e},dataTrmApi:function(t,e){t.dataTrm=e},updateEditItem:function(t,e){t.editItem=Object.assign({},e)},setEditItemIndex:function(t,e){t.editItemIndex=e},updateDataMultas:function(t,e){Object.assign(t.dataMultas[t.editItemIndex],e)},newMulta:function(t,e){t.dataMultas.unshift(e)},updateDataOcupacion:function(t,e){Object.assign(t.dataOcupacion[t.editItemIndex],e)},newOcupacion:function(t,e){t.dataOcupacion.unshift(e)},updateDataHrsLabor:function(t,e){Object.assign(t.dataHrsLabor[t.editItemIndex],e)},newHrsLabor:function(t,e){t.dataHrsLabor.unshift(e)},updateDataAns:function(t,e){Object.assign(t.dataAns[t.editItemIndex],e)},newAns:function(t,e){t.dataAns.unshift(e)},updateDataVolumetrias:function(t,e){Object.assign(t.dataVolumetrias[t.editItemIndex],e)},newVolumetria:function(t,e){t.dataVolumetrias.unshift(e)},setFormTitle:function(t,e){t.formTitle=e}},actions:{loadDataAll:function(t){var e=t.commit;C.get("api/proyectos").then((function(t){return t.data})).then((function(t){e("dataProyectosApi",t)})),C.get("api/periodos").then((function(t){return t.data})).then((function(t){e("dataPeridosApi",t)})),C.get("api/pjs").then((function(t){return t.data})).then((function(t){e("dataPjsApi",t)})),C.get("api/proyectos_ocupacion").then((function(t){return t.data})).then((function(t){e("dataProyectosOcupacionApi",t)}))},loadDataMultas:function(t){var e=t.commit;C.get("api/multas").then((function(t){return t.data})).then((function(t){e("dataMultasApi",t)}))},loadDataOcupacion:function(t){var e=t.commit;C.get("api/ocupacion").then((function(t){return t.data})).then((function(t){e("dataOcupacionApi",t)}))},loadDataHrsLabor:function(t){var e=t.commit;C.get("api/hrs_labor").then((function(t){return t.data})).then((function(t){e("dataHrsLaborApi",t)}))},loadDataVolumetrias:function(t){var e=t.commit;C.get("api/volumetrias").then((function(t){return t.data})).then((function(t){e("dataVolumetriasApi",t)}))},loadDataAns:function(t){var e=t.commit;C.get("api/ans").then((function(t){return t.data})).then((function(t){e("dataAnsApi",t)}))},retrieveDataUser:function(t){var e=t.commit;C.post("get_user_data/").then((function(t){200==t.data.code&&(localStorage.setItem("formularios",t.data.formularios),e("retrieveDataUser",t.data))}))},destroyDataUser:function(t){C.get("logout").then((function(){localStorage.removeItem("formularios"),t.commit("destroyDataUser")}))}}}),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"text-center",staticStyle:{height:"calc(100vh - 58px)"},attrs:{"fill-height":""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("h1",{staticClass:"display-2 primary--text"},[t._v("Whoops, 404")]),a("p",[t._v("Esta pagina no existe")]),a("v-btn",{attrs:{to:"/app/",color:"primary",outlined:""}},[t._v(" Salir ")])],1)],1)],1)},w=[],A={name:"NotFound",props:{}},$=A,E=a("8336"),S=a("62ad"),P=a("a523"),D=a("0fd9"),T=Object(c["a"])($,j,w,!1,null,null,null),q=T.exports;d()(T,{VBtn:E["a"],VCol:S["a"],VContainer:P["a"],VRow:D["a"]});var F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},L=[],M={props:{},created:function(){this.$store.dispatch("destroyDataUser").then((function(){location.href="/login"}))}},N=M,B=Object(c["a"])(N,F,L,!1,null,null,null),H=B.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("div",[i("Drawer"),i("AppBar")],1),i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"600"}},[i("v-img",{staticClass:"justify-center",attrs:{src:a("aa44"),alt:"Its Logo",height:"300"}}),i("v-card-title",{staticClass:"justify-center"},[t._v(" Bienvenido "+t._s(t.username)+" ")]),i("v-card-text",[i("div",{staticClass:"text--primary justify-center"},[t._v(" En este nuevo portal podrás Crear, Editar y Eliminar. ")])]),i("v-card-actions",{staticClass:"justify-center"},[-1!=t.formularios.findIndex((function(t){return"Ans"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?i("v-btn",{attrs:{text:"",color:"success accent-4",to:"/app/ans"}},[t._v(" Cumplimiento indicadores ")]):t._e(),-1!=t.formularios.findIndex((function(t){return"Volumetrias"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?i("v-btn",{attrs:{text:"",color:"success accent-4",to:"/app/volumetrias"}},[t._v(" Eficiencia en la solución ")]):t._e()],1),i("v-card-actions",{staticClass:"justify-center"},[-1!=t.formularios.findIndex((function(t){return"HrsLabor"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?i("v-btn",{attrs:{text:"",color:"success accent-4",to:"/app/horas_labor"}},[t._v(" Capacidad y demanda ")]):t._e(),-1!=t.formularios.findIndex((function(t){return"Ocupacion"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?i("v-btn",{attrs:{text:"",color:"success accent-4",to:"/app/ocupacion"}},[t._v(" Ocupación PMO y BackOffice ")]):t._e(),-1!=t.formularios.findIndex((function(t){return"Multas"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?i("v-btn",{attrs:{text:"",color:"success accent-4",to:"/app/multas"}},[t._v(" Facturación ")]):t._e()],1)],1)],1)},U=[],G=a("5530"),J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app-bar",{attrs:{app:"",color:"blue darken-3",dark:""}},[i("v-app-bar-nav-icon",{on:{click:function(e){return t.setDrawer(!t.drawer)}}}),i("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[i("span",{staticClass:"hidden-sm-and-down"},[t._v("ITS Analitica ")]),i("v-avatar",{attrs:{size:"36"}},[i("img",{attrs:{src:a("d443"),alt:"Its Logo"}})])],1),i("v-spacer"),i("v-btn",{attrs:{icon:"",title:"Home",to:"/app/"}},[i("v-icon",[t._v("mdi-apps")])],1),i("v-btn",{attrs:{title:"Ayuda",icon:""},on:{click:t.help}},[i("v-icon",[t._v("mdi-help")])],1),i("v-menu",{attrs:{bottom:"",left:"","offset-y":"",origin:"top right",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({attrs:{icon:""}},a),[i("v-icon",[t._v(" mdi-account ")])],1)]}}])},[i("v-list",{attrs:{dense:"",name:""}},[i("v-list-item",{attrs:{color:"primary"},on:{click:t.logout}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-logout")])],1),i("v-list-item-title",[i("v-btn",{attrs:{text:""},on:{click:t.logout}},[t._v("Logout")])],1)],1)],1)],1)],1)},z=[],W={name:"AppBar",computed:Object(G["a"])({},Object(I["c"])(["drawer"])),methods:Object(G["a"])({logout:function(){this.$router.push({name:"Logout"})},help:function(){var t=document.createElement("a");t.target="_blank",t.style.display="none",document.body.appendChild(t),t.href="https://drive.google.com/file/d/1v2AjWM1fBDwe4BIUwsicTgjMyNqqxXCU/view?usp=sharing",t.click()}},Object(I["b"])({setDrawer:"setDrawer"}))},X=W,Q=a("40dc"),K=a("5bc1"),Y=a("8212"),Z=a("132d"),tt=a("8860"),et=a("da13"),at=a("34c3"),it=a("5d23"),ot=a("e449"),rt=a("2fa4"),nt=a("2a7f"),st=Object(c["a"])(X,J,z,!1,null,null,null),ct=st.exports;d()(st,{VAppBar:Q["a"],VAppBarNavIcon:K["a"],VAvatar:Y["a"],VBtn:E["a"],VIcon:Z["a"],VList:tt["a"],VListItem:et["a"],VListItemIcon:at["a"],VListItemTitle:it["b"],VMenu:ot["a"],VSpacer:rt["a"],VToolbarTitle:nt["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{app:""},model:{value:t.Drawer,callback:function(e){t.Drawer=e},expression:"Drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{color:"indigo"}},[-1!=t.formularios.findIndex((function(t){return"Ans"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?a("v-list-item",{attrs:{link:"",to:"/app/ans"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-clipboard-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Cumplimiento indicadores ")])],1)],1):t._e(),-1!=t.formularios.findIndex((function(t){return"Volumetrias"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?a("v-list-item",{attrs:{link:"",to:"/app/volumetrias"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-clipboard-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Eficiencia en la solución ")])],1)],1):t._e(),-1!=t.formularios.findIndex((function(t){return"HrsLabor"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?a("v-list-item",{attrs:{link:"",to:"/app/horas_labor"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-clipboard-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Capacidad y demanda ")])],1)],1):t._e(),-1!=t.formularios.findIndex((function(t){return"Ocupacion"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?a("v-list-item",{attrs:{link:"",to:"/app/ocupacion"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-clipboard-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Ocupación PMO y BackOffice ")])],1)],1):t._e(),-1!=t.formularios.findIndex((function(t){return"Multas"===t}))||-1!=t.formularios.findIndex((function(t){return"TODOS"==t}))?a("v-list-item",{attrs:{link:"",to:"/app/multas"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-clipboard-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Facturación ")])],1)],1):t._e()],1)],1)],1)},dt=[],ut={computed:Object(G["a"])(Object(G["a"])({},Object(I["c"])(["formularios"])),{},{Drawer:{get:function(){return this.$store.getters.getDrawer},set:function(t){this.$store.commit("setDrawer",t)}}})},mt=ut,pt=a("1800"),vt=a("1baa"),ft=a("f774"),ht=Object(c["a"])(mt,lt,dt,!1,null,null,null),bt=ht.exports;d()(ht,{VIcon:Z["a"],VList:tt["a"],VListItem:et["a"],VListItemAction:pt["a"],VListItemContent:it["a"],VListItemGroup:vt["a"],VListItemTitle:it["b"],VNavigationDrawer:ft["a"]});var It={name:"Home",components:{AppBar:ct,Drawer:bt},created:function(){},computed:Object(G["a"])({},Object(I["c"])(["username","formularios"]))},xt=It,_t=a("b0af"),gt=a("99d9"),Ot=a("adda"),yt=Object(c["a"])(xt,R,U,!1,null,null,null),Vt=yt.exports;d()(yt,{VBtn:E["a"],VCard:_t["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:gt["c"],VContainer:P["a"],VImg:Ot["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",[a("Drawer"),a("AppBar")],1),a("v-card",[a("EditMulta"),a("v-card-title",[t._v(" Facturación "),a("v-spacer"),a("v-text-field",{attrs:{label:"Buscar","single-line":"","hide-details":"","append-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),"rw"===t.permisos?a("v-spacer"):t._e(),"rw"===t.permisos?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.editItem(t.newItem,"Nueva")}}},[t._v(" Nuevo ")]):t._e()],1),a("v-data-table",{attrs:{headers:t.headers,items:t.getdata,search:t.search,dense:""},scopedSlots:t._u([{key:"item.valor_facturacion",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(t._f("humanFormat")(a.valor_facturacion))+" ")]}},{key:"item.valor_multa",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(t._f("humanFormat")(a.valor_multa))+" ")]}},{key:"item.porcentaje_multa",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.porcentaje_multa)+" % ")]}},{key:"item.periodo.trm",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(t._f("humanFormat")(a.trm))+" ")]}},"rw"===t.permisos?{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i,"Editar")}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}:null],null,!0)})],1)],1)},kt=[],jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataPeriodos,"item-text":"periodo","item-value":"id",label:"Periodo",rules:[function(t){return!!t||"Campo requerido"}],required:""},on:{change:t.select_trm},model:{value:t.editItem.periodo,callback:function(e){t.$set(t.editItem,"periodo",e)},expression:"editItem.periodo"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.paises,"item-text":"text","item-value":"id",label:"Pais",rules:[function(t){return!!t||"Campo requerido"}],required:""},on:{change:t.select_pais},model:{value:t.editItem.pais,callback:function(e){t.$set(t.editItem,"pais",e)},expression:"editItem.pais"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:t.dataPjs,"item-text":"pj_pais","item-value":"id",label:"PJ",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.pj,callback:function(e){t.$set(t.editItem,"pj",e)},expression:"editItem.pj"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataProyectos,"item-text":"proyecto","item-value":"id",label:"Proyecto",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.proyecto,callback:function(e){t.$set(t.editItem,"proyecto",e)},expression:"editItem.proyecto"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("vuetify-money",{attrs:{options:t.options,label:"Vlr de Facturación(US)",rules:[function(t){return!!t||"Campo requerido"},function(t){return parseFloat(t)>0||"No puede ser igual 0"}],required:"",autocomplete:"off"},nativeOn:{change:function(e){return t.change_Facturacion(e)}},model:{value:t.editItem.valor_facturacion,callback:function(e){t.$set(t.editItem,"valor_facturacion",e)},expression:"editItem.valor_facturacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("vuetify-money",{attrs:{options:t.options,label:"Vlr de Multa(US)",rules:[function(t){return!!t||"Campo requerido"}],required:""},nativeOn:{change:function(e){return t.change_Multa(e)}},model:{value:t.editItem.valor_multa,callback:function(e){t.$set(t.editItem,"valor_multa",e)},expression:"editItem.valor_multa"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{prefix:"%",type:"number",label:"Porcentaje de Multa",rules:[function(t){return!!t||"Campo requerido"}],disabled:"",required:""},model:{value:t.editItem.porcentaje_multa,callback:function(e){t.$set(t.editItem,"porcentaje_multa",e)},expression:"editItem.porcentaje_multa"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{value:t._f("humanFormat")(t.editItem.trm),label:"TRM",prefix:"$",disabled:""}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v("Guardar")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},wt=[],At=(a("7db0"),a("b680"),a("5319"),a("53ca")),$t=a("1940"),Et=a.n($t),St=a("89ce");i["a"].use(St["a"]);St["a"];var Pt={name:"EditMulta",data:function(){return{valid:!0,options:{locale:"en-US",decimal:",",thousands:".",prefix:"$ ",precision:2},snackbar:!1,text:"",timeout:3e3}},methods:{select_trm:function(t){var e=this.dataPeriodos.find((function(e){return e.id===t}));"COLOMBIA"==this.editItem.pais&&(this.editItem.trm=e.trm_co),"HONDURAS"==this.editItem.pais&&(this.editItem.trm=e.trm_hn),"COSTA RICA"==this.editItem.pais&&(this.editItem.trm=e.trm_cr),"GUATEMALA"==this.editItem.pais&&(this.editItem.trm=e.trm_gt),"NICARAGUA"==this.editItem.pais&&(this.editItem.trm=e.trm_ni),"EL SALVADOR"==this.editItem.pais&&(this.editItem.trm=e.trm_sv)},select_pais:function(t){if(""!=this.editItem.periodo){var e;e="object"===Object(At["a"])(this.editItem.periodo)?this.editItem.periodo.id:this.editItem.periodo;var a=this.dataPeriodos.find((function(t){return t.id===e}));"COLOMBIA"==t&&(this.editItem.trm=a.trm_co),"HONDURAS"==t&&(this.editItem.trm=a.trm_hn),"COSTA RICA"==t&&(this.editItem.trm=a.trm_cr),"GUATEMALA"==t&&(this.editItem.trm=a.trm_gt),"NICARAGUA"==t&&(this.editItem.trm=a.trm_ni),"EL SALVADOR"==t&&(this.editItem.trm=a.trm_sv)}else this.snackbar=!0,this.text="Para calcular el trm es necesario que selecciones un periodo"},change_Facturacion:function(t){var e=parseFloat(t.srcElement.value.replace(",",""));this.editItem.porcentaje_multa=""!==e||0!=e?parseFloat(this.editItem.valor_multa/e*100).toFixed(2):0},change_Multa:function(t){var e=parseFloat(t.srcElement.value.replace(",",""));this.editItem.porcentaje_multa=""!==e||0!=e?parseFloat(e/this.editItem.valor_facturacion*100).toFixed(2):0},close:function(){this.$store.commit("updateShowEdit"),this.$store.commit("updateEditItem",{}),this.$store.commit("setFormTitle",""),this.$refs.form.resetValidation()},put:function(t,e){var a=this;C.put(t,e).then((function(t){var e=t.data;a.$store.commit("updateDataMultas",e),Et()("Actualizado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},post:function(t,e){var a=this;C.post(t,e).then((function(t){var e=t.data;a.$store.commit("newMulta",e),Et()("Creado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},save:function(){if(this.$refs.form.validate()){var t=this.editItem.proyecto,e=this.editItem.periodo,a=this.editItem.pj;"object"!==Object(At["a"])(t)?this.editItem.proyecto={id:t}:this.editItem.proyecto={id:this.editItem.proyecto.id},"object"!==Object(At["a"])(e)?this.editItem.periodo={id:e}:this.editItem.periodo={id:this.editItem.periodo.id},"object"!==Object(At["a"])(a)?this.editItem.pj={id:a}:this.editItem.pj={id:this.editItem.pj.id},"Editar"===this.formTitle?this.put("api/multas/".concat(this.editItem.id),this.editItem):this.post("api/multas",this.editItem),this.close()}}},computed:Object(G["a"])(Object(G["a"])({},Object(I["c"])(["dialog","dataProyectos","dataPeriodos","dataPjs","dataTrm","editItem","editItemIndex","formTitle"])),{},{paises:function(){var t=this.$store.getters.getPaises,e=this.$store.getters.getPaisPM,a=t.filter((function(t){var a=e.indexOf(t.text);return-1!==a}));return a}})},Dt=Pt,Tt=a("c6a6"),qt=a("169a"),Ft=a("4bd4"),Lt=a("b974"),Mt=a("2db4"),Nt=a("8654"),Bt=Object(c["a"])(Dt,jt,wt,!1,null,null,null),Ht=Bt.exports;d()(Bt,{VAutocomplete:Tt["a"],VBtn:E["a"],VCard:_t["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:gt["c"],VCol:S["a"],VContainer:P["a"],VDialog:qt["a"],VForm:Ft["a"],VRow:D["a"],VSelect:Lt["a"],VSnackbar:Mt["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var Rt={name:"Multas",components:{AppBar:ct,Drawer:bt,EditMulta:Ht},data:function(){return{search:null,headers:[{text:"ID",value:"id"},{text:"Periodo",value:"periodo.periodo"},{text:"Pais",value:"pais"},{text:"PJ",value:"pj.pj_pais"},{text:"Proyecto",value:"proyecto.proyecto"},{text:"Valor Facturacion(US)",value:"valor_facturacion"},{text:"Valor Multa(US)",value:"valor_multa"},{text:"% de Multa",value:"porcentaje_multa"},{text:"Trm",value:"periodo.trm"},{text:"Actions",value:"actions",sortable:!1}],newItem:{periodo:"",proyecto:"",trm:"",pj:"",pais:"",valor_facturacion:"",porcentaje_multa:"",valor_multa:""}}},created:function(){this.$store.dispatch("loadDataMultas")},computed:Object(G["a"])({getdata:function(){return this.$store.getters.getDataMultas}},Object(I["c"])(["permisos"])),methods:{editItem:function(t,e){this.$store.commit("setFormTitle",e),this.$store.commit("setEditItemIndex",this.getdata.indexOf(t)),this.$store.commit("updateEditItem",t),this.$store.commit("updateShowEdit")},deleteItem:function(t){var e=this;Et()({title:"Esta seguro?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&C.delete("api/multas/".concat(t.id)).then((function(){e.$store.commit("deleteItemMultas",t),Et()("Eliminado correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))}))}}},Ut=Rt,Gt=a("8fea"),Jt=Object(c["a"])(Ut,Ct,kt,!1,null,null,null),zt=Jt.exports;d()(Jt,{VBtn:E["a"],VCard:_t["a"],VCardTitle:gt["c"],VContainer:P["a"],VDataTable:Gt["a"],VIcon:Z["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",[a("Drawer"),a("AppBar")],1),a("v-card",[a("EditOcupacion"),a("v-card-title",[t._v(" Ocupación PMO y BackOffice "),a("div",{staticClass:"flex-grow-1"}),a("v-text-field",{attrs:{label:"Buscar","single-line":"","hide-details":"","append-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),"rw"===t.permisos?a("v-spacer"):t._e(),"rw"===t.permisos?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.editItem(t.newItem,"Nueva")}}},[t._v(" Nuevo ")]):t._e()],1),a("v-data-table",{attrs:{headers:t.headers,items:t.getdata,search:t.search,dense:""},scopedSlots:t._u([{key:"item.dedicacion",fn:function(e){var a=e.item;return[t._v(" % "+t._s(a.dedicacion)+" ")]}},"rw"===t.permisos?{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i,"Editar")}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}:null],null,!0)})],1)],1)},Xt=[],Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataPeriodos,"item-text":"periodo","item-value":"id",label:"Periodo",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.periodo,callback:function(e){t.$set(t.editItem,"periodo",e)},expression:"editItem.periodo"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.semanas,"item-text":"text","item-value":"id",label:"Semana",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.semana,callback:function(e){t.$set(t.editItem,"semana",e)},expression:"editItem.semana"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.paises,"item-text":"text","item-value":"id",label:"Pais",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.pais,callback:function(e){t.$set(t.editItem,"pais",e)},expression:"editItem.pais"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:t.dataPjs,"item-text":"pj_pais","item-value":"id",label:"PJ",rules:[function(t){return!!t||"Campo requerido"}],required:""},on:{change:t.select_pj_change},model:{value:t.editItem.pj,callback:function(e){t.$set(t.editItem,"pj",e)},expression:"editItem.pj"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataProyectosOcupacion,"item-text":"proyecto","item-value":"id",label:"Proyecto",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.proyecto,callback:function(e){t.$set(t.editItem,"proyecto",e)},expression:"editItem.proyecto"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre_Apellido",disabled:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-text-field",{attrs:{label:"Cliente",disabled:""},model:{value:t.editItem.cliente,callback:function(e){t.$set(t.editItem,"cliente",e)},expression:"editItem.cliente"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",suffix:"Hrs",label:"Linea Base Horas",min:"1",rules:[function(t){return!!t||"Campo requerido"},function(t){return parseFloat(t)>0||"No puede ser menor o igual 0"}],required:""},on:{change:t.change_Lhrs},model:{value:t.editItem.linea_base_horas,callback:function(e){t.$set(t.editItem,"linea_base_horas",e)},expression:"editItem.linea_base_horas"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{type:"number",suffix:"Hrs",label:"Horas Ejecutadas",rules:[function(t){return!!t||"Campo requerido"}],required:""},on:{change:t.change_Hrs},model:{value:t.editItem.horas_ejecutadas,callback:function(e){t.$set(t.editItem,"horas_ejecutadas",e)},expression:"editItem.horas_ejecutadas"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{type:"number",label:"Dedicación",prefix:"%",disabled:""},model:{value:t.editItem.dedicacion,callback:function(e){t.$set(t.editItem,"dedicacion",e)},expression:"editItem.dedicacion"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v("Guardar")])],1)],1)],1)],1)},Kt=[],Yt={name:"EditOcupacion",data:function(){return{valid:!0}},methods:{select_pj_change:function(t){var e=this.dataPjs.find((function(e){return e.id===t}));this.editItem.cliente=e.nombre_cliente},change_Lhrs:function(t){this.editItem.dedicacion=""!==t?parseFloat(this.editItem.horas_ejecutadas/t*100).toFixed(2):0},change_Hrs:function(t){this.editItem.dedicacion=""!==t?parseFloat(t/this.editItem.linea_base_horas*100).toFixed(2):0},close:function(){this.$store.commit("updateShowEdit"),this.$store.commit("updateEditItem",{}),this.$store.commit("setFormTitle",""),this.$refs.form.resetValidation()},put:function(t,e){var a=this;C.put(t,e).then((function(t){var e=t.data;a.$store.commit("updateDataOcupacion",e),Et()("Actualizado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},post:function(t,e){var a=this;C.post(t,e).then((function(t){var e=t.data;a.$store.commit("newOcupacion",e),Et()("Creado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},save:function(){if(this.$refs.form.validate()){this.editItem.pm=this.username,this.editItem.email=this.email;var t=this.editItem.proyecto,e=this.editItem.periodo,a=this.editItem.pj;"object"!==Object(At["a"])(t)?this.editItem.proyecto={id:t}:this.editItem.proyecto={id:this.editItem.proyecto.id},"object"!==Object(At["a"])(e)?this.editItem.periodo={id:e}:this.editItem.periodo={id:this.editItem.periodo.id},"object"!==Object(At["a"])(a)?this.editItem.pj={id:a}:this.editItem.pj={id:this.editItem.pj.id},"Editar"===this.formTitle?this.put("api/ocupacion/".concat(this.editItem.id),this.editItem):this.post("api/ocupacion",this.editItem),this.close()}}},computed:Object(G["a"])(Object(G["a"])({},Object(I["c"])(["dialog","dataProyectosOcupacion","editItem","dataPeriodos","dataPjs","editItemIndex","paises","semanas","formTitle","username","email"])),{},{paises:function(){var t=this.$store.getters.getPaises,e=this.$store.getters.getPaisPM,a=t.filter((function(t){var a=e.indexOf(t.text);return-1!==a}));return a}})},Zt=Yt,te=Object(c["a"])(Zt,Qt,Kt,!1,null,null,null),ee=te.exports;d()(te,{VAutocomplete:Tt["a"],VBtn:E["a"],VCard:_t["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:gt["c"],VCol:S["a"],VContainer:P["a"],VDialog:qt["a"],VForm:Ft["a"],VRow:D["a"],VSelect:Lt["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var ae={name:"Ocupacion",components:{AppBar:ct,Drawer:bt,EditOcupacion:ee},data:function(){return{search:null,headers:[{text:"ID",value:"id",sortable:!1},{text:"Periodo",value:"periodo.periodo"},{text:"Semana",value:"semana"},{text:"Pais",value:"pais"},{text:"PJ",value:"pj.pj_pais"},{text:"Proyecto",value:"proyecto.proyecto"},{text:"Nombre_Apellido",value:"pm"},{text:"Cliente",value:"cliente"},{text:"Linea Base Horas",value:"linea_base_horas"},{text:"Horas Ejecutadas",value:"horas_ejecutadas"},{text:"% Dedicación",value:"dedicacion"},{text:"Actions",value:"actions",sortable:!1}],newItem:{periodo:"",semana:"",pais:"",pj:"",proyecto:"",pm:"",cliente:"",linea_base_horas:"",horas_ejecutadas:"",dedicacion:""}}},created:function(){this.$store.dispatch("loadDataOcupacion")},computed:Object(G["a"])({getdata:function(){return this.$store.getters.getDataOcupacion}},Object(I["c"])(["permisos"])),methods:{editItem:function(t,e){this.$store.commit("setFormTitle",e),this.$store.commit("setEditItemIndex",this.getdata.indexOf(t)),this.$store.commit("updateEditItem",t),this.$store.commit("updateShowEdit")},deleteItem:function(t){var e=this;Et()({title:"Esta seguro?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&C.delete("api/ocupacion/".concat(t.id)).then((function(){e.$store.commit("deleteItemOcupacion",t),Et()("Eliminado correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))}))}}},ie=ae,oe=Object(c["a"])(ie,Wt,Xt,!1,null,null,null),re=oe.exports;d()(oe,{VBtn:E["a"],VCard:_t["a"],VCardTitle:gt["c"],VContainer:P["a"],VDataTable:Gt["a"],VIcon:Z["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",[a("Drawer"),a("AppBar")],1),a("v-card",[a("EditHrsLabor"),a("v-card-title",[t._v(" Capacidad y demanda "),a("div",{staticClass:"flex-grow-1"}),a("v-text-field",{attrs:{label:"Buscar","single-line":"","hide-details":"","append-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),"rw"===t.permisos?a("v-spacer"):t._e(),"rw"===t.permisos?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.editItem(t.newItem,"Nueva")}}},[t._v(" Nuevo ")]):t._e()],1),a("v-data-table",{attrs:{headers:t.headers,items:t.getdata,search:t.search},scopedSlots:t._u(["rw"===t.permisos?{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i,"Editar")}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}:null],null,!0)})],1)],1)},se=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataPeriodos,"item-text":"periodo","item-value":"id",label:"Periodo",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.periodo,callback:function(e){t.$set(t.editItem,"periodo",e)},expression:"editItem.periodo"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.paises,"item-text":"text","item-value":"id",label:"Pais",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.pais,callback:function(e){t.$set(t.editItem,"pais",e)},expression:"editItem.pais"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataProyectos,"item-text":"proyecto","item-value":"id",label:"Proyecto",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.proyecto,callback:function(e){t.$set(t.editItem,"proyecto",e)},expression:"editItem.proyecto"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-autocomplete",{attrs:{items:t.itemsServicios,"item-text":"servicio",label:"Servicio",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.servicio,callback:function(e){t.$set(t.editItem,"servicio",e)},expression:"editItem.servicio"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Linea Base Horas",rules:[function(t){return!!t||"Campo requerido"},function(t){return parseFloat(t)>0||"No puede ser igual 0"}],required:"",min:"1",suffix:"Hrs"},on:{change:t.change_Lhrs},model:{value:t.editItem.linea_base_horas,callback:function(e){t.$set(t.editItem,"linea_base_horas",e)},expression:"editItem.linea_base_horas"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{type:"number",label:"Horas Ejecutadas",rules:[function(t){return!!t||"Campo requerido"}],required:"",min:"1",suffix:"Hrs"},on:{change:t.change_HrsE},model:{value:t.editItem.horas_ejecutadas,callback:function(e){t.$set(t.editItem,"horas_ejecutadas",e)},expression:"editItem.horas_ejecutadas"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{prefix:"%",type:"number",label:"Uso",disabled:""},model:{value:t.editItem.uso,callback:function(e){t.$set(t.editItem,"uso",e)},expression:"editItem.uso"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v("Guardar")])],1)],1)],1)],1)},le=[],de={name:"EditHrsLabor",data:function(){return{valid:!0,itemsServicios:[]}},methods:{change_Lhrs:function(t){this.editItem.uso=""!==t||0!=t?parseFloat(this.editItem.horas_ejecutadas/t*100).toFixed(2):0},change_HrsE:function(t){this.editItem.uso=""!==t||0!=t?parseFloat(t/this.editItem.linea_base_horas*100).toFixed(2):0},close:function(){this.$store.commit("updateShowEdit"),this.$store.commit("updateEditItem",{}),this.$store.commit("setFormTitle",""),this.$refs.form.resetValidation()},put:function(t,e){var a=this;C.put(t,e).then((function(t){var e=t.data;a.$store.commit("updateDataHrsLabor",e),Et()("Actualizado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},post:function(t,e){var a=this;C.post(t,e).then((function(t){var e=t.data;a.$store.commit("newHrsLabor",e),Et()("Creado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},save:function(){if(this.$refs.form.validate()){var t=this.editItem.proyecto,e=this.editItem.periodo;"object"!==Object(At["a"])(t)?this.editItem.proyecto={id:t}:this.editItem.proyecto={id:this.editItem.proyecto.id},"object"!==Object(At["a"])(e)?this.editItem.periodo={id:e}:this.editItem.periodo={id:this.editItem.periodo.id},"Editar"===this.formTitle?this.put("api/hrs_labor/".concat(this.editItem.id),this.editItem):this.post("api/hrs_labor",this.editItem),this.close()}}},computed:Object(G["a"])(Object(G["a"])({},Object(I["c"])(["dialog","dataProyectos","editItem","dataPeriodos","editItemIndex","formTitle","dataServicios"])),{},{paises:function(){var t=this.$store.getters.getPaises,e=this.$store.getters.getPaisPM,a=t.filter((function(t){var a=e.indexOf(t.text);return-1!==a}));return a}}),watch:{"editItem.proyecto":function(t){var e,a=this;""!==t&&void 0!==t&&(e="object"===Object(At["a"])(t)?t.id:t,C.get("api/servicios/"+e).then((function(t){return t.data})).then((function(t){a.itemsServicios=t})).catch((function(t){console.log(t)})))}}},ue=de,me=(a("a80f"),Object(c["a"])(ue,ce,le,!1,null,null,null)),pe=me.exports;d()(me,{VAutocomplete:Tt["a"],VBtn:E["a"],VCard:_t["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:gt["c"],VCol:S["a"],VContainer:P["a"],VDialog:qt["a"],VForm:Ft["a"],VRow:D["a"],VSelect:Lt["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var ve={name:"HrsLabor",components:{AppBar:ct,Drawer:bt,EditHrsLabor:pe},data:function(){return{search:null,headers:[{text:"ID",value:"id",sortable:!1},{text:"Periodo",value:"periodo.periodo"},{text:"Pais",value:"pais"},{text:"Proyecto",value:"proyecto.proyecto"},{text:"Servicio",value:"servicio"},{text:"Linea Base Hrs",value:"linea_base_horas"},{text:"Horas ejecutadas",value:"horas_ejecutadas"},{text:"% Uso",value:"uso"},{text:"Actions",value:"actions",sortable:!1}],newItem:{periodo:"",pais:"",proyecto:"",servicio:"",linea_base_horas:"",horas_ejecutadas:"",uso:""}}},created:function(){this.$store.dispatch("loadDataHrsLabor")},computed:Object(G["a"])({getdata:function(){return this.$store.getters.getDataHrsLabor}},Object(I["c"])(["permisos"])),methods:{editItem:function(t,e){this.$store.commit("setFormTitle",e),this.$store.commit("setEditItemIndex",this.getdata.indexOf(t)),this.$store.commit("updateEditItem",t),this.$store.commit("updateShowEdit")},deleteItem:function(t){var e=this;Et()({title:"Esta seguro?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&C.delete("api/hrs_labor/".concat(t.id)).then((function(){e.$store.commit("deleteItemHrsLabor",t),Et()("Eliminado correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))}))}}},fe=ve,he=Object(c["a"])(fe,ne,se,!1,null,null,null),be=he.exports;d()(he,{VBtn:E["a"],VCard:_t["a"],VCardTitle:gt["c"],VContainer:P["a"],VDataTable:Gt["a"],VIcon:Z["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",[a("Drawer"),a("AppBar")],1),a("v-card",[a("EditVolumetria"),a("v-card-title",[t._v(" Eficiencia en la solución "),a("div",{staticClass:"flex-grow-1"}),a("v-text-field",{attrs:{label:"Buscar","single-line":"","hide-details":"","append-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),"rw"===t.permisos?a("v-spacer"):t._e(),"rw"===t.permisos?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.editItem(t.newItem,"Nueva")}}},[t._v(" Nuevo ")]):t._e()],1),a("v-data-table",{attrs:{headers:t.headers,items:t.getdata,search:t.search,dense:""},scopedSlots:t._u(["rw"===t.permisos?{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i,"Editar")}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}:null],null,!0)})],1)],1)},xe=[],_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataPeriodos,"item-text":"periodo","item-value":"id",label:"Periodo",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.periodo,callback:function(e){t.$set(t.editItem,"periodo",e)},expression:"editItem.periodo"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.paises,"item-text":"text","item-value":"id",label:"Pais",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.pais,callback:function(e){t.$set(t.editItem,"pais",e)},expression:"editItem.pais"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataProyectos,"item-text":"proyecto","item-value":"id",label:"Proyecto",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.proyecto,callback:function(e){t.$set(t.editItem,"proyecto",e)},expression:"editItem.proyecto"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-autocomplete",{attrs:{items:t.itemsServicios,"item-text":"servicio",label:"Servicio",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.servicio,callback:function(e){t.$set(t.editItem,"servicio",e)},expression:"editItem.servicio"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.tipos,label:"Tipo",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.tipo,callback:function(e){t.$set(t.editItem,"tipo",e)},expression:"editItem.tipo"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Registrados",type:"number",rules:[function(t){return!!t||"Campo requerido"}]},model:{value:t.editItem.registrados,callback:function(e){t.$set(t.editItem,"registrados",e)},expression:"editItem.registrados"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Cerrados",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.cerrados,callback:function(e){t.$set(t.editItem,"cerrados",e)},expression:"editItem.cerrados"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Backlog",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.backlog,callback:function(e){t.$set(t.editItem,"backlog",e)},expression:"editItem.backlog"}})],1)],1),a("v-row",[a("v-alert",{attrs:{dense:"",type:"info",outlined:""}},[a("strong",{attrs:{color:"sucess"}},[t._v("Backlog y Registrados")]),t._v(" y la "),a("strong",[t._v("Eficiencia")]),t._v(" son calculados automaticamente. ")])],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v("Guardar")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},ge=[],Oe={name:"EditVolumetria",data:function(){return{valid:!0,loading:!1,loader:null,snackbar:!1,text:"",timeout:3e3,itemsServicios:[]}},methods:{close:function(){this.$store.commit("updateShowEdit"),this.$store.commit("updateEditItem",{}),this.$store.commit("setFormTitle",""),this.$refs.form.resetValidation(),this.loading=!1},put:function(t,e){var a=this;C.put(t,e).then((function(t){var e=t.data;a.$store.commit("updateDataVolumetrias",e),Et()("Actualizado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},post:function(t,e){var a=this;C.post(t,e).then((function(t){var e=t.data;a.$store.commit("newVolumetria",e),Et()("Creado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},save:function(){if(this.$refs.form.validate()){var t=this.editItem.proyecto,e=this.editItem.periodo;"object"!==Object(At["a"])(t)?this.editItem.proyecto={id:t}:this.editItem.proyecto={id:this.editItem.proyecto.id},"object"!==Object(At["a"])(e)?this.editItem.periodo={id:e}:this.editItem.periodo={id:this.editItem.periodo.id},"Editar"===this.formTitle?this.put("api/volumetrias/".concat(this.editItem.id),this.editItem):this.post("api/volumetrias",this.editItem),this.close()}}},computed:Object(G["a"])(Object(G["a"])({},Object(I["c"])(["dialog","dataProyectos","editItem","dataPeriodos","dataPjs","editItemIndex","paises","semanas","formTitle","tipos"])),{},{paises:function(){var t=this.$store.getters.getPaises,e=this.$store.getters.getPaisPM,a=t.filter((function(t){var a=e.indexOf(t.text);return-1!==a}));return a}}),watch:{"editItem.proyecto":function(t){var e,a=this;""!==t&&void 0!==t&&(e="object"===Object(At["a"])(t)?t.id:t,C.get("api/servicios/"+e).then((function(t){return t.data})).then((function(t){a.itemsServicios=t})).catch((function(t){console.log(t)})))}}},ye=Oe,Ve=a("0798"),Ce=Object(c["a"])(ye,_e,ge,!1,null,null,null),ke=Ce.exports;d()(Ce,{VAlert:Ve["a"],VAutocomplete:Tt["a"],VBtn:E["a"],VCard:_t["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:gt["c"],VCol:S["a"],VContainer:P["a"],VDialog:qt["a"],VForm:Ft["a"],VRow:D["a"],VSelect:Lt["a"],VSnackbar:Mt["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var je={name:"Volumetrias",components:{AppBar:ct,Drawer:bt,EditVolumetria:ke},data:function(){return{search:null,headers:[{text:"ID",value:"id",sortable:!1},{text:"Periodo",value:"periodo.periodo"},{text:"Pais",value:"pais"},{text:"Proyecto",value:"proyecto.proyecto"},{text:"Servicio",value:"servicio"},{text:"Tipo",value:"tipo"},{text:"Registrados",value:"registrados"},{text:"Cerrados",value:"cerrados"},{text:"Backlog",value:"backlog"},{text:"Backlog y registrados",value:"backlog_y_registrados"},{text:"Eficiencia",value:"eficiencia"},{text:"Actions",value:"actions",sortable:!1}],newItem:{periodo:"",pais:"",proyecto:"",servicio:"",tipo:"",registrados:"",cerrados:"",backlog:"",backlog_y_registrados:"",eficiencia:""}}},created:function(){this.$store.dispatch("loadDataVolumetrias")},computed:Object(G["a"])({getdata:function(){return this.$store.getters.getDataVolumetrias}},Object(I["c"])(["permisos"])),methods:{editItem:function(t,e){this.$store.commit("setFormTitle",e),this.$store.commit("setEditItemIndex",this.getdata.indexOf(t)),this.$store.commit("updateEditItem",t),this.$store.commit("updateShowEdit")},deleteItem:function(t){var e=this;Et()({title:"Esta seguro?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&C.delete("api/volumetrias/".concat(t.id)).then((function(){e.$store.commit("deleteItemVolumetrias",t),Et()("Eliminado correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))}))}}},we=je,Ae=Object(c["a"])(we,Ie,xe,!1,null,null,null),$e=Ae.exports;d()(Ae,{VBtn:E["a"],VCard:_t["a"],VCardTitle:gt["c"],VContainer:P["a"],VDataTable:Gt["a"],VIcon:Z["a"],VSpacer:rt["a"],VTextField:Nt["a"]});var Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",[a("Drawer"),a("AppBar")],1),a("v-card",[a("EditAns"),a("v-card-title",[t._v(" Cumplimiento indicadores "),a("div",{staticClass:"flex-grow-1"}),a("v-text-field",{attrs:{label:"Buscar","single-line":"","hide-details":"","append-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),"rw"===t.permisos?a("v-spacer"):t._e(),"rw"===t.permisos?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.editItem(t.newItem,"Nueva")}}},[t._v(" Nuevo ")]):t._e()],1),a("v-data-table",{attrs:{headers:t.headers,items:t.getdata,search:t.search,dense:""},scopedSlots:t._u([{key:"item.nso",fn:function(e){var a=e.item;return[t._v(" % "+t._s(a.nso)+" ")]}},"rw"===t.permisos?{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i,"Editar")}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}:null],null,!0)})],1)],1)},Se=[],Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataPeriodos,"item-text":"periodo","item-value":"id",label:"Periodo",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.periodo,callback:function(e){t.$set(t.editItem,"periodo",e)},expression:"editItem.periodo"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.paises,"item-text":"text","item-value":"id",label:"Pais",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.pais,callback:function(e){t.$set(t.editItem,"pais",e)},expression:"editItem.pais"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.dataProyectos,"item-text":"proyecto","item-value":"id",label:"Proyecto",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.proyecto,callback:function(e){t.$set(t.editItem,"proyecto",e)},expression:"editItem.proyecto"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.tipo_formato,label:"Tipo de formato",rules:[function(t){return!!t||"Campo requerido"}],required:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({},i),[t._v(" mdi-help-circle-outline ")])]}}])},[t._v(" Seleccione que tipo de indicador va a ingresar, si es un indicador de Porcentaje o si es un indicador decimal ")])]},proxy:!0}]),model:{value:t.editItem.tipo_formato,callback:function(e){t.$set(t.editItem,"tipo_formato",e)},expression:"editItem.tipo_formato"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-autocomplete",{attrs:{items:t.itemsServicios,"item-text":"servicio",label:"Servicio",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.servicio,callback:function(e){t.$set(t.editItem,"servicio",e)},expression:"editItem.servicio"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-autocomplete",{attrs:{items:t.itemsServicios,"item-text":"indicadores_servicio",label:"Ind. de Servicio",rules:[function(t){return!!t||"Campo requerido"}],required:""},model:{value:t.editItem.indicadores_servicio,callback:function(e){t.$set(t.editItem,"indicadores_servicio",e)},expression:"editItem.indicadores_servicio"}})],1)],1),a("v-row",[t.showNSOP?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{prefix:"%",label:"NSO",type:"number",rules:[function(t){return!!t||"Campo requerido"},function(t){return t>0||"Debe ser mayor a 0"},function(t){return t<=100||"Debe ser menor a 100"}],min:"1",max:"100"},model:{value:t.editItem.nso,callback:function(e){t.$set(t.editItem,"nso",e)},expression:"editItem.nso"}})],1):t._e(),t.showNSOD?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:"NSO DEC",rules:[function(t){return!!t||"Campo requerido"}]},model:{value:t.editItem.nso_dec,callback:function(e){t.$set(t.editItem,"nso_dec",e)},expression:"editItem.nso_dec"}})],1):t._e(),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.ind_txt_items,label:"IND TEX",rules:[function(t){return!!t||"Campo requerido"}],required:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({},i),[t._v(" mdi-help-circle-outline ")])]}}])},[a("strong",[t._v("Ejemplo:")]),t._v(" Si mi meta es superar o igualar el valor del NSO para cumplirlo debo colocar >= (NSO: 20 >= OBTENIDO: 25)."),a("br"),t._v(" Si mi meta es no superar o igualar el valor del NOS para cumplirlo debo colocar <= (NSO: 20 <= OBTENIDO: 15). ")])]},proxy:!0}]),model:{value:t.editItem.ind_txt,callback:function(e){t.$set(t.editItem,"ind_txt",e)},expression:"editItem.ind_txt"}})],1),t.showNSOP?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Obtenido",rules:[function(t){return!!t||"Campo requerido"},function(t){return t>0||"Debe ser mayor a 0"},function(t){return t<=1||"Debe ser menor a 1"}],required:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({},i),[t._v(" mdi-help-circle-outline ")])]}}],null,!1,73716224)},[t._v(" Indique el valor obtenido de su operación siempre en formato decimal. Ejemplo: si mi resultado fue 95% lo indico en decimal 0,95 ")])]},proxy:!0}],null,!1,866098355),model:{value:t.editItem.obtenido,callback:function(e){t.$set(t.editItem,"obtenido",e)},expression:"editItem.obtenido"}})],1):t._e(),t.showNSOD?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Obtenido",rules:[function(t){return!!t||"Campo requerido"},function(t){return t>0||"Debe ser mayor a 0"},function(t){return t<=10||"Debe ser menor a 10"}],required:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({},i),[t._v(" mdi-help-circle-outline ")])]}}],null,!1,73716224)},[t._v(" Indique el valor obtenido de su operación siempre en formato decimal. Ejemplo: si mi resultado fue 95% lo indico en decimal 0,95 ")])]},proxy:!0}],null,!1,866098355),model:{value:t.editItem.obtenido,callback:function(e){t.$set(t.editItem,"obtenido",e)},expression:"editItem.obtenido"}})],1):t._e()],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{label:"Observaciones"},model:{value:t.editItem.observaciones,callback:function(e){t.$set(t.editItem,"observaciones",e)},expression:"editItem.observaciones"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Cump. Gral",type:"number",disabled:""},model:{value:t.editItem.cumplimiento_general,callback:function(e){t.$set(t.editItem,"cumplimiento_general",e)},expression:"editItem.cumplimiento_general"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v("Guardar")])],1)],1)],1)],1)},De=[],Te={name:"EditAns",data:function(){return{valid:!0,showNSOP:!1,showNSOD:!1,ind_txt_items:["<",">","<=",">="],itemsServicios:[]}},methods:{close:function(){this.showNSOP=!1,this.showNSOD=!1,this.$store.commit("updateShowEdit"),this.$store.commit("updateEditItem",{}),this.$store.commit("setFormTitle",""),this.$refs.form.resetValidation()},put:function(t,e){var a=this;C.put(t,e).then((function(t){var e=t.data;a.$store.commit("updateDataAns",e),Et()("Actualizado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},post:function(t,e){var a=this;C.post(t,e).then((function(t){var e=t.data;a.$store.commit("newAns",e),Et()("Creado Correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))},calcular_cumplimiento:function(){var t=this.editItem.ind_txt,e=this.editItem.tipo_formato,a=parseFloat(this.editItem.nso),i=parseFloat(this.editItem.nso_dec),o=parseFloat(this.editItem.obtenido);switch("PORCENTAJE"===e&&(o=(100*o).toFixed(2)),t){case"<":this.editItem.cumplimiento_general="PORCENTAJE"===e?o<a?1:-1:o<i?1:-1;break;case"<=":this.editItem.cumplimiento_general="PORCENTAJE"===e?o<=a?1:-1:o<=i?1:-1;break;case">":this.editItem.cumplimiento_general="PORCENTAJE"===e?o>a?1:-1:o>i?1:-1;break;case">=":this.editItem.cumplimiento_general="PORCENTAJE"===e?o>=a?"1":"-1":o>=i?"1":"-1";break}},save:function(){if(this.$refs.form.validate()){var t=this.editItem.proyecto,e=this.editItem.periodo;"object"!==Object(At["a"])(t)?this.editItem.proyecto={id:t}:this.editItem.proyecto={id:this.editItem.proyecto.id},"object"!==Object(At["a"])(e)?this.editItem.periodo={id:e}:this.editItem.periodo={id:this.editItem.periodo.id},this.calcular_cumplimiento(),"Editar"===this.formTitle?this.put("api/ans/".concat(this.editItem.id),this.editItem):this.post("api/ans",this.editItem),this.close()}}},watch:{"editItem.tipo_formato":function(t){"DECIMAL"===t?(this.editItem.nso=null,this.showNSOD=!0,this.showNSOP=!1):"PORCENTAJE"===t&&(this.editItem.nso_dec=null,this.showNSOP=!0,this.showNSOD=!1)},"editItem.proyecto":function(t){var e,a=this;""!==t&&void 0!==t&&(e="object"===Object(At["a"])(t)?t.id:t,C.get("api/servicios/"+e).then((function(t){return t.data})).then((function(t){a.itemsServicios=t})).catch((function(t){console.log(t)})))}},computed:Object(G["a"])(Object(G["a"])({},Object(I["c"])(["dialog","dataProyectos","editItem","dataPeriodos","dataPjs","editItemIndex","semanas","formTitle","tipo_formato"])),{},{paises:function(){var t=this.$store.getters.getPaises,e=this.$store.getters.getPaisPM,a=t.filter((function(t){var a=e.indexOf(t.text);return-1!==a}));return a}})},qe=Te,Fe=a("3a2f"),Le=Object(c["a"])(qe,Pe,De,!1,null,null,null),Me=Le.exports;d()(Le,{VAutocomplete:Tt["a"],VBtn:E["a"],VCard:_t["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:gt["c"],VCol:S["a"],VContainer:P["a"],VDialog:qt["a"],VForm:Ft["a"],VIcon:Z["a"],VRow:D["a"],VSelect:Lt["a"],VSpacer:rt["a"],VTextField:Nt["a"],VTooltip:Fe["a"]});var Ne={name:"Ans",components:{AppBar:ct,Drawer:bt,EditAns:Me},data:function(){return{search:null,headers:[{text:"ID",value:"id",sortable:!1},{text:"Periodo",value:"periodo.periodo"},{text:"Pais",value:"pais"},{text:"Proyecto",value:"proyecto.proyecto"},{text:"Tipo Formato",value:"tipo_formato"},{text:"Servicio",value:"servicio"},{text:"NSO",value:"nso"},{text:"NSO Dec",value:"nso_dec"},{text:"Ind Txt",value:"ind_txt"},{text:"Obtenido",value:"obtenido"},{text:"Observaciones",value:"observaciones"},{text:"Cump. Gral",value:"cumplimiento_general"},{text:"Actions",value:"actions",sortable:!1}],newItem:{periodo:"",pais:"",proyecto:"",tipo_formato:"",servicio:"",indicadores_servicio:"",nso:"",nso_dec:"",ind_txt:"",obtenido:"",observaciones:"",cumplimiento_general:""}}},created:function(){this.$store.dispatch("loadDataAns")},computed:Object(G["a"])({getdata:function(){return this.$store.getters.getDataAns}},Object(I["c"])(["permisos"])),methods:{editItem:function(t,e){this.$store.commit("setFormTitle",e),this.$store.commit("setEditItemIndex",this.getdata.indexOf(t)),this.$store.commit("updateEditItem",t),this.$store.commit("updateShowEdit")},deleteItem:function(t){var e=this;Et()({title:"Esta seguro?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&C.delete("api/ans/".concat(t.id)).then((function(){e.$store.commit("deleteItemAns",t),Et()("Eliminado correctamente!",{icon:"success"})})).catch((function(){Et()("Error Interno","Favor contactar con el administrador","error")}))}))}}},Be=Ne,He=Object(c["a"])(Be,Ee,Se,!1,null,null,null),Re=He.exports;d()(He,{VBtn:E["a"],VCard:_t["a"],VCardTitle:gt["c"],VContainer:P["a"],VDataTable:Gt["a"],VIcon:Z["a"],VSpacer:rt["a"],VTextField:Nt["a"]}),i["a"].use(b["a"]);var Ue=[{path:"/app/logout",name:"Logout",component:H},{path:"/app/",name:"Home",component:Vt},{path:"/app/multas",name:"Multas",component:zt,meta:{requiredPermission:!0}},{path:"/app/ocupacion",name:"Ocupacion",component:re,meta:{requiredPermission:!0}},{path:"/app/horas_labor",name:"HrsLabor",component:be,meta:{requiredPermission:!0}},{path:"/app/volumetrias",name:"Volumetrias",component:$e,meta:{requiredPermission:!0}},{path:"/app/ans",name:"Ans",component:Re,meta:{requiredPermission:!0}},{path:"/app/404",name:"404",component:q},{path:"/app/*",redirect:"/app/404"}],Ge=new b["a"]({mode:"history",base:"/",linkActiveClass:"is.active",routes:Ue});function Je(t){var e=k.getters.getFormularios;return e=e.split(","),(-1!=e.findIndex((function(e){return e===t}))||-1!=e.findIndex((function(t){return"TODOS"===t})))&&(k.dispatch("loadDataAll"),!0)}Ge.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.requiredPermission}))?Je(t.name)?a():a({name:"Home"}):a()}));var ze=Ge;i["a"].config.productionTip=!1,i["a"].filter("humanFormat",(function(t){var e="en-US",a=2;return t=isNaN(t)?"":Number(t).toLocaleString(e,{maximumFractionDigits:a,minimumFractionDigits:a}),t})),new i["a"]({delimiters:["${","}"],vuetify:h,router:ze,store:k,render:function(t){return t(v)}}).$mount("#app")},7328:function(t,e,a){},a80f:function(t,e,a){"use strict";a("7328")},aa44:function(t,e,a){t.exports=a.p+"static/img/logo-color.0eb1e427.png"},d443:function(t,e,a){t.exports=a.p+"static/img/rsz_logo-color.e1ce9a80.png"}});
//# sourceMappingURL=app.2911e7fc.js.map